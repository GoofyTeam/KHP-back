type Query {
    """
    Recherche un produit par code-barres ou par mots-clés.
    Si 'barcode' est fourni, la recherche se fait par code-barres.
    Sinon, la recherche se fait par mots-clés.
    """
    search(
        barcode: String
        keyword: String
        page: Int = 1
        pageSize: Int = 20
    ): OpenFoodFactsProduct
        @field(
            resolver: "App\\GraphQL\\Resolvers\\OpenFoodFactsResolver@search"
        )
}

"""
Représente un produit alimentaire issu d'OpenFoodFacts
"""
type OpenFoodFactsProduct {
    """
    Code-barres du produit
    """
    barcode: String

    """
    Nom du produit
    """
    product_name: String

    """
    Quantité de base du produit
    """
    base_quantity: Float

    """
    Unité de mesure (g, ml, etc.)
    """
    unit: String

    """
    Catégories du produit
    """
    categories: [String]

    """
    URL de l'image du produit
    """
    imageUrl: String
}
