type Menu {
    id: ID!
    name: String!
    description: String
    image_url: String @field(resolver: "App\\GraphQL\\Resolvers\\MenuResolver@imageUrl")
    is_a_la_carte: Boolean!
    is_available: Boolean!
    allergens: [AllergenEnum!]!
    items: [MenuItem!]! @hasMany
    created_at: DateTime!
    updated_at: DateTime!
}

type MenuItem {
    id: ID!
    location: Location! @belongsTo
    quantity: Float!
    unit: UnitEnum!
    entity: MenuItemEntity! @morphTo
}

union MenuItemEntity = Ingredient | Preparation

extend type Query @guard {
    menus(
        "Filtrer par un ou plusieurs allerg√®nes."
        allergens: [AllergenEnum!] @scope(name: "allergen")
    ): [Menu!]! @all(scopes: ["forCompany"])
    menu(id: ID!): Menu @find(scopes: ["forCompany"])
}
